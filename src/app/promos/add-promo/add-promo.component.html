<div class="card-body">
  <h3 class="card-header title text-center font-weight-bold text-uppercase py-4">Ajout de Promotion</h3>
</div>
<div class="container">
  <div class="card o-hidden border-0 shadow-lg my-5">
    <div class="card-body p-0">
      <div class="row">
        <div class="container col-lg-10">
          <div class="p-5">
            <div class="text-center">
              <h1 class="h4 text-gray-900 mb-4">Creer Une Promotion</h1>
            </div>
            <form class="user" #myForm="ngForm" [formGroup]="formadd" (ngSubmit)="addPromo(myForm)">
              <div class="form-group">
                <label for="langue">Choix de langue</label>
                <select id="langue" class="selectpicker ml-3" data-style="btn-primary" [(ngModel)]="langue" formControlName="langue">
                  <option value="francais">Fran√ßais</option>
                  <option value="anglais">Anglais</option>
                </select>
              </div>
              <div class="form-group">
                <label for="titre">Titre</label>
                <input type="text" class="form-control" id="titre" placeholder="choisisser le titre le plus clair, le plus pro et le plus accrocheur possilble."
                  [(ngModel)]="titre" formControlName="titre" [ngClass]="{'is-invalid': !formadd.get('titre').valid && formadd.get('titre').touched }">
              </div>
              <div class="form-group">
                <label for="description">Description de la promo</label>
                <textarea class="form-control"
                          formControlName="description" id="description" name="description" placeholder="Ecrire ici une description rapide, simple et consise"
                          [(ngModel)]="description" formControlName="description" [ngClass]="{'is-invalid': !formadd.get('description').valid && formadd.get('description').touched }">
                </textarea>
              </div>

              <div class="form-group">
                <label for="lieu">Lieu de la Promotion</label>
                <input type="text" class="form-control"
                       formControlName="lieu" id="lieu" name="lieu" placeholder="Indiquez la region dala quelle se trouve votre promotion"
                       [(ngModel)]="lieu" [ngClass]="{'is-invalid': !formadd.get('lieu').valid && formadd.get('lieu').touched }">
              </div>

              <div class="form-group">
                <label for="refAgate">Reference Agate</label>
                <input type="text" class="form-control"
                       formControlName="refAgate" id="refAgate" name="refAgate"
                       placeholder="La reference agate et un code analytique." [(ngModel)]="refAgate" [ngClass]="{'is-invalid': !formadd.get('refAgate').valid && formadd.get('refAgate').touched }">
              </div>

              <div class="form-group">
                <label for="fabrique">Choix de la fabrique</label>
                <select id="fabrique" class="selectpicker ml-3" [(ngModel)]="fabrique" formControlName="fabrique">
                  <option value="fabrique">Fabrique</option>
                  <option value="fabrique1">Fabrique1</option>
                </select>
              </div>

              <div class="form-group row">
                <div class="col-sm-6 mb-3 mb-sm-0">
                  <label for="dateDebut">Date Debut</label>
                  <input type="date" class="form-control" formControlName="dateDebut" id="dateDebut" name="dateDebut" [(ngModel)]="dateDebut">
                </div>
                <div class="col-sm-6">
                  <label for="dateFin">Date Fin</label>
                  <input type="date" class="form-control" formControlName="dateFin" id="dateFin" name="dateFin" [(ngModel)]="dateFin">
                </div>
              </div>
              <!-- <p>
                <button class="btn btn-outline-dark btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                  Referentiel
                </button>
              </p>

              <div class="collapse" id="collapseExample">

                <div class="card card-body">

                  <p id="id_work_days">
                    <label class="ml-3" ><input type="checkbox" name="work_days" value="1" ><span>sun</span></label>
                  </p>
                </div>
              </div> -->
              <div class="form-group">
                <label for="presentation">Referentiel</label>
                <ng-multiselect-dropdown
                    [placeholder]="'selectionner les referentiels'"
                    [data]="Refs"
                    [(ngModel)]="selectedRefs"
                    [settings]="dropdownSettings"
                    formControlName="selectedRefs"
                  >
                  </ng-multiselect-dropdown>
              </div>
              <!-- <ngx-dropzone (change)="onSelect($event)">
                <ngx-dropzone-label>Drop it, baby!</ngx-dropzone-label>
                <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                    <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
                </ngx-dropzone-preview>
            </ngx-dropzone> -->
            <div *ngIf="url" class="mb-2">
              <img class="avatar" [src]="url" alt="..."/>
            </div>
            <div class="custom-file">
              <input type="file" accept=".jpg,.gif,.png, .jpeg" multiple class="custom-file-input form-control form-control-user" id="image" (change)="onSelect($event)"
                [(ngModel)]="image" formControlName="image" name="image">
                <label class="custom-file-label" #labelImport for="image">Choisir une image</label>
            </div>

            <div class="form-group float-right mt-3">
              <button type="button" class="ml-5 btn btn-outline-success" (click)="apps.click()">Charger un fichier cvs</button>
              <input style=" display: none;" type="file" accept=".xlsx,.xls,.csv" ngf-max-size="20MB" fd-input  (change)="upload($event)" formControlName = "fichier" [(ngModel)]="fichier" name="fichier" #apps>
            </div>

            <div class="container row">
              <div class="col-9">
                <h4>Ajouter des apprenants<br><small class="ml-2 text-danger">*obligatoire</small></h4>

                <div class="form-group mt-5">
                  <label for="email">Adesse Email</label>
                  <tag-input
                            formControlName="email" id="email" name="email" placeholder="Email des apprenants" [displayBy] = "'email'" [(ngModel)] = "email"></tag-input>
                </div>
              </div>
              <!-- <div class="col">
                  <h4>Liste des apprenants</h4>
                  <small class="text-info">02 apprenants en attentes<button type="button" class="ml-2 btn-sm btn-outline-success" >Relancer toutes les invitations</button></small><br><br>
                  <small class="text-info">example@mail.com<button type="button" class="ml-5 btn-sm btn-outline-success">Relancer l'invitation</button></small>
              </div> -->
            </div>

              <button [disabled]="formadd.invalid" type="submit" class="btn btn-outline-success btn-block mt-3">
                Ajouter
              </button>
            </form>

          </div>
        </div>
      </div>
    </div>
  </div>

</div>


