!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("@ngx-lite/input-tag",["exports","@angular/core","@angular/forms","@angular/common"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-lite"]=t["ngx-lite"]||{},t["ngx-lite"]["input-tag"]={}),t.ng.core,t.ng.forms,t.ng.common)}(this,(function(t,e,n,r){"use strict";var o,i=new e.InjectionToken("NGX_INPUT_TAG_TAG_FORMATTER"),a=["inputElement"];function u(t,n){if(1&t){var r=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"div",6),e.ɵɵtext(1),e.ɵɵelementStart(2,"button",7),e.ɵɵlistener("click",(function(t){e.ɵɵrestoreView(r);var o=n.$implicit;return e.ɵɵnextContext().removeTag(o,t)})),e.ɵɵtext(3," ✖ "),e.ɵɵelementEnd(),e.ɵɵelementEnd()}if(2&t){var o=n.$implicit;e.ɵɵadvance(1),e.ɵɵtextInterpolate1(" ",o," ")}}function g(t,n){if(1&t){var r=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"button",10),e.ɵɵlistener("click",(function(){e.ɵɵrestoreView(r);var t=n.$implicit;return e.ɵɵnextContext(2).addSuggestedTag(t)})),e.ɵɵtext(1),e.ɵɵelementEnd()}if(2&t){var o=n.$implicit;e.ɵɵadvance(1),e.ɵɵtextInterpolate(o)}}function s(t,n){if(1&t&&(e.ɵɵelementStart(0,"div",8),e.ɵɵtemplate(1,g,2,1,"button",9),e.ɵɵelementEnd()),2&t){var r=e.ɵɵnextContext();e.ɵɵadvance(1),e.ɵɵproperty("ngForOf",r.tagSuggestions)}}(o=t.KeyCodes||(t.KeyCodes={}))[o.Backspace=8]="Backspace",o[o.Tab=9]="Tab",o[o.Enter=13]="Enter",o[o.Escape=27]="Escape",o[o.LeftArrow=37]="LeftArrow",o[o.UpArrow=38]="UpArrow",o[o.RightArrow=39]="RightArrow",o[o.DownArrow=40]="DownArrow",o[o.Comma=188]="Comma";var l=function(){function n(t){this.tagFormatter=t,this.tagSuggestions=[],this.maxTagLength=25,this.maxNumberOfTags=1e3,this.textChange=new e.EventEmitter,this._value=[],this.prevTagInput="",this.currentNumberOfTags=0,this.tagError=null,this.onChange=function(t){},this.onTouched=function(){}}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.onChange(t),this.onTouched()},enumerable:!1,configurable:!0}),n.prototype.registerOnChange=function(t){this.onChange=t},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.writeValue=function(t){var e=this;t&&(this.value=t.map((function(t){return e.tagFormatter(t)})),this.setCurrentNumberOfTags())},n.prototype.validate=function(){return this.tagError},n.prototype.handleClick=function(t){this.inputElement&&!this.inputElement.nativeElement.contains(t.target)&&this.inputElement.nativeElement.value&&this.addTag(this.inputElement.nativeElement.value)},n.prototype.addTag=function(t){var e=this.tagFormatter(t),n=0===e.length,r=!e.length||this.maxTagLength&&e.length>this.maxTagLength,o=this.value.indexOf(e)>-1,i=this.currentNumberOfTags>this.maxNumberOfTags;if(!n&&r&&(this.tagError={message:"Tag length cannot exceed "+this.maxTagLength+" characters"}),o&&(this.tagError={message:"Cannot add duplicate tag"}),i){var a=1===this.maxNumberOfTags?"":"s";this.tagError={message:"Cannot exceed "+this.maxNumberOfTags+" tag"+a}}n||r||o||i||!this.inputElement||(this.tagError=null,this.value.push(e),this.setCurrentNumberOfTags(),this.inputElement.nativeElement.value=""),this.value=this.value,this.focus()},n.prototype.addTagEvent=function(e){var n=e.target;this.tagError=null,this.value=this.value,this.textChange.emit(n.value),e.keyCode===t.KeyCodes.Backspace&&0===this.prevTagInput.length?(this._value.pop(),this.setCurrentNumberOfTags()):e.keyCode!==t.KeyCodes.Enter&&e.keyCode!==t.KeyCodes.Comma&&e.keyCode!==t.KeyCodes.Tab||this.addTag(n.value),this.prevTagInput=n.value},n.prototype.preventDefaultTabBehavior=function(e){e.keyCode===t.KeyCodes.Tab&&this.prevTagInput.length>0&&e.preventDefault()},n.prototype.addTagClick=function(t,e){t.preventDefault(),e.length>0&&this.addTag(e)},n.prototype.addSuggestedTag=function(t){this.addTag(t)},n.prototype.removeTag=function(e,n){n.keyCode!==t.KeyCodes.Enter&&(this.value=this._value.filter((function(t){return t!==e})),this.setCurrentNumberOfTags())},n.prototype.focus=function(){var t;null===(t=this.inputElement)||void 0===t||t.nativeElement.focus()},n.prototype.setCurrentNumberOfTags=function(){this.currentNumberOfTags=this.value.length?this.value.toString().split(",").length:0},n}();function c(t){return t.trim().replace(/(\s|-)+/g,"-").replace(/\,/g,"").toLowerCase()}l.ɵfac=function(t){return new(t||l)(e.ɵɵdirectiveInject(i))},l.ɵcmp=e.ɵɵdefineComponent({type:l,selectors:[["ngx-input-tag"]],viewQuery:function(t,n){if(1&t&&e.ɵɵviewQuery(a,!0),2&t){var r;e.ɵɵqueryRefresh(r=e.ɵɵloadQuery())&&(n.inputElement=r.first)}},hostBindings:function(t,n){1&t&&e.ɵɵlistener("click",(function(t){return n.handleClick(t)}),!1,e.ɵɵresolveDocument)},inputs:{tagSuggestions:"tagSuggestions",maxTagLength:"maxTagLength",maxNumberOfTags:"maxNumberOfTags"},outputs:{textChange:"textChange"},features:[e.ɵɵProvidersFeature([{provide:n.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return l})),multi:!0},{provide:n.NG_VALIDATORS,useExisting:e.forwardRef((function(){return l})),multi:!0}])],decls:7,vars:4,consts:[[1,"ngx-input-tag",3,"click"],["class","ngx-input-tag__tag",4,"ngFor","ngForOf"],["type","text","aria-label","Tags",1,"ngx-input-tag__input",3,"keyup","keydown"],["inputElement",""],["type","button","aria-label","Add Tag","title","Add Tag",1,"ngx-input-tag__btn",3,"click"],["class","ngx-input-tag-suggestions",4,"ngIf"],[1,"ngx-input-tag__tag"],["type","button",3,"click"],[1,"ngx-input-tag-suggestions"],["type","button","class","ngx-input-tag-suggestions__tag",3,"click",4,"ngFor","ngForOf"],["type","button",1,"ngx-input-tag-suggestions__tag",3,"click"]],template:function(t,n){if(1&t){var r=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"div",0),e.ɵɵlistener("click",(function(){return n.focus()})),e.ɵɵtemplate(1,u,4,1,"div",1),e.ɵɵelementStart(2,"input",2,3),e.ɵɵlistener("keyup",(function(t){return n.addTagEvent(t)}))("keydown",(function(t){return n.preventDefaultTabBehavior(t)})),e.ɵɵelementEnd(),e.ɵɵelementStart(4,"button",4),e.ɵɵlistener("click",(function(t){e.ɵɵrestoreView(r);var o=e.ɵɵreference(3);return n.addTagClick(t,o.value)})),e.ɵɵtext(5," + "),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵtemplate(6,s,2,1,"div",5)}if(2&t){var o=e.ɵɵreference(3);e.ɵɵadvance(1),e.ɵɵproperty("ngForOf",n.value),e.ɵɵadvance(1),e.ɵɵstyleProp("width",10*o.value.length+10+"px"),e.ɵɵadvance(4),e.ɵɵproperty("ngIf",o.value.length&&n.tagSuggestions&&n.tagSuggestions.length)}},directives:[r.NgForOf,r.NgIf],styles:["*,:after,:before{box-sizing:border-box}ngx-input-tag{--color-add-button:#ccc;--color-add-button-background:#fff;--color-background:#fff;--color-border:#dbdbdb;--color-tag-close:#ccc;--color-tag-suggestion-hover:#f2f2f2;display:inline-block;margin-bottom:12px;width:100%}.ngx-input-tag{background-color:#fff;background-color:var(--color-background);border:1px solid #dbdbdb;border:1px solid var(--color-border);font-size:16px;margin-bottom:0;padding:5px 80px 4.5px 4px;position:relative}.ngx-input-tag:focus{outline:initial}.ngx-input-tag__input{border:0;font-size:16px;margin-bottom:0;margin-left:4px;max-width:calc(100% + 70px);min-height:29px;min-width:4px;outline:none;padding:4px 0;width:8px}.ngx-input-tag__tag{border:1px solid #dbdbdb;border:1px solid var(--color-border);border-radius:2px;display:inline-block;height:29px;line-height:18px;margin-right:4px;padding:4px}.ngx-input-tag__tag button{background:transparent;border:0;color:var(--color-tag-close);cursor:pointer}.ngx-input-tag__btn{background-color:#fff;background-color:var(--color-add-button-background);color:#ccc;color:var(--color-add-button);cursor:pointer;font-size:30px;height:41px;position:absolute;right:-1px;top:-1px;width:50px}.ngx-input-tag-suggestions,.ngx-input-tag__btn{border:1px solid #dbdbdb;border:1px solid var(--color-border)}.ngx-input-tag-suggestions{background-color:#fff;background-color:var(--color-background)}.ngx-input-tag-suggestions__tag{background:transparent;border:0;cursor:pointer;display:block;padding:10px 14px;text-align:left;width:100%}.ngx-input-tag-suggestions__tag:hover{background:#f2f2f2;background:var(--color-tag-suggestion-hover)}"],encapsulation:2,changeDetection:0});var d=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={tagFormatter:c}),{ngModule:t,providers:[{provide:i,useValue:e.tagFormatter}]}},t}();d.ɵmod=e.ɵɵdefineNgModule({type:d}),d.ɵinj=e.ɵɵdefineInjector({factory:function(t){return new(t||d)},imports:[[r.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&e.ɵɵsetNgModuleScope(d,{declarations:[l],imports:[r.CommonModule],exports:[l]}),t.NGX_INPUT_TAG_TAG_FORMATTER=i,t.NgxInputTagComponent=l,t.NgxInputTagModule=d,t.formatter=c,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-lite-input-tag.umd.min.js.map